"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[874],{5392:(e,t,a)=>{a.d(t,{q7:()=>n,q:()=>i,Xy:()=>o});var l=a(6620),s=function(e){return e.SERVER="server",e.SPA="spa",e}({});class r{async loginEmail(e,t){return this.client.auth.signInWithPassword({email:e,password:t})}async registerEmail(e,t){return this.client.auth.signUp({email:e,password:t})}async exchangeCodeForSession(e){return this.client.auth.exchangeCodeForSession(e)}async resendVerificationEmail(e){return this.client.auth.resend({email:e,type:"signup"})}async logout(){let{error:e}=await this.client.auth.signOut({scope:"local"});if(e)throw e;"spa"===this.clientType&&(window.location.href="/auth/login")}async uploadFile(e,t,a){return t=e+"/"+(t=t.replace(/[^0-9a-zA-Z!\-_.*'()]/g,"_")),this.client.storage.from("files").upload(t,a)}async getFiles(e){return this.client.storage.from("files").list(e)}async deleteFile(e,t){return t=e+"/"+t,this.client.storage.from("files").remove([t])}async shareFile(e,t,a){let l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t=e+"/"+t,this.client.storage.from("files").createSignedUrl(t,a,{download:l})}async getMyTodoList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"created_at",l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=this.client.from("todo_list").select("*").range(e*t-t,e*t-1).order(a);return null!==l&&(s=s.eq("done",l)),s}async createTask(e){return this.client.from("todo_list").insert(e)}async removeTask(e){return this.client.from("todo_list").delete().eq("id",e)}async updateAsDone(e){return this.client.from("todo_list").update({done:!0}).eq("id",e)}getSupabaseClient(){return this.client}constructor(e,t){this.client=e,this.clientType=t}}function n(){return(0,l.createBrowserClient)("https://xcopajcpimrsqcqhydug.supabase.co","sb_publishable_pGN0njb-9XysERIUFiYtPg_NbAQuZGT")}async function i(){return new r(n(),s.SPA)}async function o(){let e=n(),t=await e.auth.getSession();return t.data&&t.data.session||(window.location.href="/auth/login"),new r(e,s.SPA)}},7026:(e,t,a)=>{a.d(t,{default:()=>x});var l=a(5155),s=a(2115),r=a(2619),n=a.n(r),i=a(5392),o=a(5704);let d="active_members",u="kybalion_layout",c="kybalion.docs.layout.order",m="kybalion.docs.layout.positions",h=new Set(["back","legacy","auth","user","signout","profile"]);function x(){let e=(0,s.useMemo)(()=>(0,i.q7)(),[]),t=(0,s.useRef)(null),a=(0,s.useRef)({}),r=(0,s.useRef)(null),x=(0,s.useRef)(null),f=(0,s.useRef)(null),[p,y]=(0,s.useState)(null),[g,b]=(0,s.useState)(!1),[v,w]=(0,s.useState)(!1),[N,j]=(0,s.useState)(null),[k,M]=(0,s.useState)(!1),[S,C]=(0,s.useState)({status:null,group:null,first_name:"",last_name:"",nickname:"",middle_initial:"",phone:"",address:""}),[_,E]=(0,s.useState)(null),L=(0,s.useMemo)(()=>(o.env.NEXT_PUBLIC_DOCS_ADMIN_EMAILS||"").split(",").map(e=>e.trim().toLowerCase()).filter(Boolean),[]),R=(0,s.useCallback)(()=>{let e=t.current;return e?Array.from(e.querySelectorAll("[data-layout-key]")):[]},[]),q=(0,s.useCallback)(()=>{let e=t.current;if(!e)return;let a=0;R().forEach(e=>{if(e.classList.contains("is-hidden"))return;let t=parseFloat(e.style.top||"0"),l=parseFloat(e.style.height||"".concat(e.getBoundingClientRect().height));a=Math.max(a,t+l)}),a>0&&(e.style.minHeight="".concat(Math.ceil(a+12),"px"))},[R]),F=()=>{try{let e=localStorage.getItem(c),t=e?JSON.parse(e):[];return Array.isArray(t)?t:[]}catch(e){return[]}},I=(0,s.useCallback)(()=>R().map(e=>e.dataset.layoutKey).filter(Boolean),[R]),A=(0,s.useCallback)(e=>{if(!Array.isArray(e)||!e.length)return;let t=R(),a=new Map(e.map((e,t)=>[e,t]));t.forEach((t,l)=>{let s=t.dataset.layoutKey||"",r=a.has(s)?a.get(s):e.length+l;t.style.order="".concat(r)})},[R]),B=(0,s.useCallback)(e=>{let a=t.current;if(!a)return;let l=a.getBoundingClientRect().width,s=0,r=10;R().forEach(t=>{let a=t.dataset.layoutKey;if(!a)return;let n=e[a];if(n&&n.width>0){let e=Math.max(80,Math.round(n.width)),a=Math.max(36,Math.round(n.height)),i=Math.max(0,l-e-10),o=Math.min(Math.max(0,Math.round(n.left)),i),d=Math.max(0,Math.round(n.top));t.style.left="".concat(o,"px"),t.style.top="".concat(d,"px"),t.style.width="".concat(e,"px"),t.style.height="".concat(a,"px"),s=Math.max(s,o+e),r=Math.max(0,Math.min(r,d))}});let n=s>0?s+12:10;R().forEach(t=>{let a=t.dataset.layoutKey;if(!a||e[a]&&e[a].width>0)return;let s=t.getBoundingClientRect(),i=Math.max(80,Math.round(s.width)||100),o=Math.max(36,Math.round(s.height)||40);l>0&&n+i>l-10&&n>10&&(n=10,r+=o+12);let d=Math.min(Math.max(0,n),Math.max(0,l-i-10));t.style.left="".concat(d,"px"),t.style.top="".concat(Math.max(0,r),"px"),t.style.width="".concat(i,"px"),t.style.height="".concat(o,"px"),n+=i+12}),q()},[R,q]),P=(0,s.useCallback)(()=>{var e;a.current={},localStorage.removeItem(m),null==(e=document.body)||e.classList.remove("docs-layout-freeform");let l=t.current;l&&(l.style.minHeight=""),R().forEach(e=>{e.style.removeProperty("left"),e.style.removeProperty("top"),e.style.removeProperty("width"),e.style.removeProperty("height")})},[R]),O=(0,s.useCallback)(()=>{let e=t.current;if(!e)return;let l=e.getBoundingClientRect(),s={...a.current};R().forEach(e=>{let t=e.dataset.layoutKey;if(!t||e.classList.contains("is-hidden"))return;let a=e.getBoundingClientRect();(0!==a.width||0!==a.height)&&(s[t]={left:Math.max(0,Math.round(a.left-l.left)),top:Math.max(0,Math.round(a.top-l.top)),width:Math.max(80,Math.round(a.width)),height:Math.max(36,Math.round(a.height))})}),a.current=s,localStorage.setItem(m,JSON.stringify(s)),q()},[R,q]),T=e=>{let t={};return Object.keys(e||{}).forEach(a=>{h.has(a)&&(t[a]=e[a])}),t},U=e=>e.filter(e=>h.has(e)),z=(0,s.useCallback)(async()=>{if(!g)return;let t=p||"";if(!t)return;let l=U(F()),s=T(a.current),{error:r}=await e.from(u).upsert({id:2,positions:s,order:l,updated_at:new Date().toISOString(),updated_by:t},{onConflict:"id"});r?j("Layout save failed: ".concat(r.message)):j("Layout saved for all visitors.")},[e,g,p]),D=(0,s.useCallback)(async()=>{let{data:t,error:a}=await e.from(u).select("positions, order").eq("id",2).maybeSingle();return a||!t?null:t},[e]),K=(0,s.useCallback)(async()=>{let e=await D();if(!e)return;let t=U(e.order||[]),l=T(e.positions||{});t.length&&(A(t),localStorage.setItem(c,JSON.stringify(t))),Object.keys(l).length&&(a.current=g?{...a.current,...l}:{...l},B(a.current),localStorage.setItem(m,JSON.stringify(a.current)))},[A,B,g,D]),X=(0,s.useCallback)(()=>{let e=t.current;if(!e)return{};let a=e.style.width;e.style.width="100%";let l=e.getBoundingClientRect().width;e.style.width=a;let s={},r=10,n=10,i=0;return R().forEach(e=>{let t=e.dataset.layoutKey;if(!t)return;let a=e.getBoundingClientRect(),o=Math.max(80,Math.round(a.width)+22),d=Math.max(36,Math.round(a.height)+14);r+o>l-10&&r>10&&(r=10,n+=i+16,i=0),s[t]={left:Math.round(r),top:Math.round(n),width:o,height:d},r+=o+16,i=Math.max(i,d)}),s},[R]),H=(0,s.useCallback)(e=>{var t,l;w(e),null==(t=document.body)||t.classList.toggle("docs-layout-editing",e),e?(Object.keys(a.current).length||(a.current=X(),B(a.current),O()),null==(l=document.body)||l.classList.add("docs-layout-freeform"),!r.current&&"ResizeObserver"in window&&(r.current=new ResizeObserver(()=>{O(),g&&z()}),R().forEach(e=>{var t;return null==(t=r.current)?void 0:t.observe(e)}))):r.current&&(r.current.disconnect(),r.current=null,O(),g&&z())},[B,X,R,g,z,O]),J=(0,s.useCallback)(e=>{if(!v)return;let a=e.currentTarget;if(!a)return;let l=a.getBoundingClientRect(),s=e.clientX>l.right-16&&e.clientY>l.bottom-16,r=t.current;if(!r)return;let n=r.getBoundingClientRect();f.current=a,x.current={type:s?"resize":"move",startX:e.clientX,startY:e.clientY,startLeft:parseFloat(a.style.left||"0"),startTop:parseFloat(a.style.top||"0"),startWidth:parseFloat(a.style.width||"".concat(l.width)),startHeight:parseFloat(a.style.height||"".concat(l.height)),maxLeft:Math.max(0,n.width-l.width),maxTop:Math.max(0,n.height-l.height),maxWidth:Math.max(120,n.width),maxHeight:Math.max(36,n.height)},a.classList.add("docs-layout-dragging"),a.setPointerCapture(e.pointerId)},[v]),Y=(0,s.useCallback)(e=>{if(!v)return;let t=f.current,a=x.current;if(!t||!a)return;let l=e.clientX-a.startX,s=e.clientY-a.startY;if("resize"===a.type){let e=Math.max(80,a.startWidth+l),r=Math.max(36,a.startHeight+s);t.style.width="".concat(Math.min(e,a.maxWidth),"px"),t.style.height="".concat(Math.min(r,a.maxHeight),"px")}else{let e=Math.min(Math.max(0,a.startLeft+l),a.maxLeft),r=Math.max(0,a.startTop+s);t.style.left="".concat(Math.round(e),"px"),t.style.top="".concat(Math.round(r),"px")}q()},[v,q]),W=(0,s.useCallback)(e=>{var t;if(!v)return;let a=f.current;a&&(a.classList.remove("docs-layout-dragging"),null==(t=a.releasePointerCapture)||t.call(a,e.pointerId),f.current=null,x.current=null,O(),g&&z())},[g,v,z,O]),G=async()=>{P(),localStorage.removeItem(c),H(!1),g&&(await e.from(u).delete().eq("id",2),j("Layout reset for all visitors."))},V=(0,s.useCallback)(async t=>{let{data:a,error:l}=await e.from(d).select("first_name,last_name,nickname,middle_initial,phone,address,group,status").eq("email",t).maybeSingle();if(l)return void E("Failed to load profile: ".concat(l.message));let s=a||{};C({status:s.status||null,group:s.group||null,first_name:s.first_name||"",last_name:s.last_name||"",nickname:s.nickname||"",middle_initial:s.middle_initial||"",phone:s.phone||"",address:s.address||""})},[e]),Z=async()=>{var t,a,l,s,r,n;if(!p)return;if(!(null==(t=S.first_name)?void 0:t.trim())||!(null==(a=S.last_name)?void 0:a.trim()))return void E("First name and last name are required.");E("Saving profile...");let i={first_name:S.first_name.trim(),last_name:S.last_name.trim(),nickname:(null==(l=S.nickname)?void 0:l.trim())||null,middle_initial:(null==(s=S.middle_initial)?void 0:s.trim())||null,phone:(null==(r=S.phone)?void 0:r.trim())||null,address:(null==(n=S.address)?void 0:n.trim())||null},{error:o}=await e.from(d).update(i).eq("email",p);if(o)return void E("Save failed: ".concat(o.message));E("Profile saved."),setTimeout(()=>M(!1),900)};return(0,s.useEffect)(()=>{let t=!0;(async()=>{var a,l;let{data:s}=await e.auth.getUser(),r=(null==(l=s.user)||null==(a=l.email)?void 0:a.toLowerCase())||null;if(!t)return;if(y(r),!r){b(!1),P();return}let{data:n}=await e.from(d).select("status, group").eq("email",r).maybeSingle(),i=n||{},o="active"===i.status;b("admin"===i.group||L.includes(r)),o?await K():P()})();let{data:a}=e.auth.onAuthStateChange((t,a)=>{var l,s;let r=(null==a||null==(s=a.user)||null==(l=s.email)?void 0:l.toLowerCase())||null;if(y(r),!r){b(!1),P();return}e.from(d).select("status, group").eq("email",r).maybeSingle().then(e=>{let{data:t}=e,a=t||{},l="active"===a.status;b("admin"===a.group||L.includes(r)),l?K():P()})});return()=>{var e;t=!1,null==a||null==(e=a.subscription)||e.unsubscribe()}},[L,K,P,e]),(0,s.useEffect)(()=>{let e=F();if(e.length)A(e);else{let e=I();localStorage.setItem(c,JSON.stringify(e))}if(a.current=(()=>{try{let e=localStorage.getItem(m),t=e?JSON.parse(e):{};return t&&"object"==typeof t?t:{}}catch(e){return{}}})(),Object.keys(a.current).length){var t;B(a.current),null==(t=document.body)||t.classList.add("docs-layout-freeform")}},[A,B,I]),(0,s.useEffect)(()=>{let e=R(),t=e=>J(e),a=e=>Y(e),l=e=>W(e);return e.forEach(e=>{e.addEventListener("pointerdown",t),e.addEventListener("pointermove",a),e.addEventListener("pointerup",l),e.addEventListener("pointercancel",l)}),()=>{e.forEach(e=>{e.removeEventListener("pointerdown",t),e.removeEventListener("pointermove",a),e.removeEventListener("pointerup",l),e.removeEventListener("pointercancel",l)})}},[R,J,Y,W]),(0,s.useEffect)(()=>{!g&&v&&H(!1)},[g,v,H]),(0,s.useEffect)(()=>{k&&p&&(E(null),V(p))},[V,k,p]),(0,l.jsxs)("div",{ref:t,className:"docs-header-actions relative flex flex-wrap items-center justify-end gap-3",children:[(0,l.jsx)(n(),{href:"/kybalion",className:"docs-layout-item rounded-full border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50","data-layout-key":"back",children:"Kybalion hub"}),(0,l.jsx)(n(),{href:"/old/kybalion/docs",className:"docs-layout-item rounded-full border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50","data-layout-key":"legacy",children:"Legacy docs"}),p?(0,l.jsxs)("span",{className:"docs-layout-item rounded-full border border-slate-200 bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700","data-layout-key":"user",children:["Signed in as ",p]}):(0,l.jsx)(n(),{href:"/auth/login",className:"docs-layout-item rounded-full border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50","data-layout-key":"auth",children:"Sign In / Create Account"}),p?(0,l.jsx)("button",{type:"button",className:"docs-layout-item rounded-full border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50","data-layout-key":"profile",onClick:()=>M(!0),children:"Profile"}):null,p?(0,l.jsx)("button",{type:"button",className:"docs-layout-item rounded-full border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50","data-layout-key":"signout",onClick:()=>e.auth.signOut(),children:"Log out"}):null,g?(0,l.jsx)("button",{type:"button",className:"docs-layout-item rounded-full border px-4 py-2 text-sm font-semibold ".concat(v?"border-slate-900 bg-slate-900 text-white":"border-slate-300 bg-white text-slate-700 hover:bg-slate-50"),"data-layout-key":"editbtn",onClick:()=>H(!v),children:v?"Exit layout edit":"Edit layout"}):null,g?(0,l.jsx)("button",{type:"button",className:"docs-layout-item rounded-full border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50","data-layout-key":"resetbtn",onClick:()=>void G(),children:"Reset layout"}):null,N?(0,l.jsx)("span",{className:"text-xs text-slate-500",children:N}):null,k?(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4",children:(0,l.jsxs)("div",{className:"w-full max-w-xl rounded-3xl border border-slate-200 bg-white p-6 shadow-xl",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Profile Settings"}),(0,l.jsx)("button",{type:"button",className:"rounded-full border border-slate-300 px-3 py-1 text-sm font-semibold text-slate-700",onClick:()=>M(!1),children:"Close"})]}),(0,l.jsxs)("div",{className:"mt-4 grid gap-4 sm:grid-cols-2",children:[(0,l.jsxs)("label",{className:"text-sm font-semibold text-slate-700",children:["First Name *",(0,l.jsx)("input",{className:"mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm text-slate-700",value:S.first_name||"",onChange:e=>C(t=>({...t,first_name:e.target.value}))})]}),(0,l.jsxs)("label",{className:"text-sm font-semibold text-slate-700",children:["Last Name *",(0,l.jsx)("input",{className:"mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm text-slate-700",value:S.last_name||"",onChange:e=>C(t=>({...t,last_name:e.target.value}))})]}),(0,l.jsxs)("label",{className:"text-sm font-semibold text-slate-700",children:["Email",(0,l.jsx)("input",{className:"mt-2 w-full rounded-lg border border-slate-300 bg-slate-100 px-3 py-2 text-sm text-slate-700",value:p||"",disabled:!0})]}),(0,l.jsxs)("label",{className:"text-sm font-semibold text-slate-700",children:["Nickname",(0,l.jsx)("input",{className:"mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm text-slate-700",value:S.nickname||"",onChange:e=>C(t=>({...t,nickname:e.target.value}))})]}),(0,l.jsxs)("label",{className:"text-sm font-semibold text-slate-700",children:["Middle Initial",(0,l.jsx)("input",{className:"mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm text-slate-700",value:S.middle_initial||"",maxLength:1,onChange:e=>C(t=>({...t,middle_initial:e.target.value}))})]}),(0,l.jsxs)("label",{className:"text-sm font-semibold text-slate-700",children:["Phone",(0,l.jsx)("input",{className:"mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm text-slate-700",value:S.phone||"",onChange:e=>C(t=>({...t,phone:e.target.value}))})]})]}),(0,l.jsxs)("label",{className:"mt-4 block text-sm font-semibold text-slate-700",children:["Address",(0,l.jsx)("input",{className:"mt-2 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm text-slate-700",value:S.address||"",onChange:e=>C(t=>({...t,address:e.target.value}))})]}),_?(0,l.jsx)("p",{className:"mt-3 text-sm text-slate-600",children:_}):null,(0,l.jsxs)("div",{className:"mt-5 flex justify-end gap-3",children:[(0,l.jsx)("button",{type:"button",className:"rounded-full border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700",onClick:()=>M(!1),children:"Cancel"}),(0,l.jsx)("button",{type:"button",className:"rounded-full bg-slate-900 px-4 py-2 text-sm font-semibold text-white",onClick:()=>void Z(),children:"Save"})]})]})}):null,(0,l.jsx)("div",{className:"sr-only","aria-live":"polite",children:N?"".concat(N," ").concat(new Date().toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})):""})]})}},7439:(e,t,a)=>{a.d(t,{default:()=>i});var l=a(5155),s=a(2115),r=a(5392);let n="kybalion-docs";function i(e){let{prefix:t}=e,[a,i]=(0,s.useState)([]),[o,d]=(0,s.useState)(!0),[u,c]=(0,s.useState)(null),[m,h]=(0,s.useState)(null),x=(0,s.useMemo)(()=>(0,r.q7)(),[]);return(0,s.useEffect)(()=>{let e=!0,a=async()=>{try{var t,a;let{data:l}=await x.auth.getUser(),s=(null==(a=l.user)||null==(t=a.email)?void 0:t.toLowerCase())||"";if(!s){e&&h(null);return}let{data:r,error:n}=await x.from("active_members").select("status, group").eq("email",s).maybeSingle();if(n)throw n;e&&h({email:s,status:(null==r?void 0:r.status)||null,group:(null==r?void 0:r.group)||null})}catch(e){console.error("Member status error:",e)}};return(async()=>{d(!0),c(null);try{let{data:a,error:l}=await x.storage.from(n).list(t,{limit:200,sortBy:{column:"name",order:"asc"}});if(l)throw l;e&&i(a||[])}catch(t){e&&c("Unable to load documents."),console.error("Docs list error:",t)}finally{e&&d(!1)}})(),a(),()=>{e=!1}},[x,t]),(0,l.jsxs)("div",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[(0,l.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"Storage"}),(0,l.jsx)("h2",{className:"mt-2 text-xl font-semibold text-slate-900",children:"Documents"}),(0,l.jsxs)("p",{className:"mt-1 text-sm text-slate-600",children:["Files are loaded from Supabase bucket ",n,"."]})]}),(0,l.jsx)("div",{className:"text-sm text-slate-600",children:(null==m?void 0:m.email)?(0,l.jsxs)("div",{className:"rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-slate-700",children:["Signed in as ",m.email]}):(0,l.jsx)("div",{className:"rounded-full border border-slate-200 bg-slate-50 px-3 py-1 text-slate-700",children:"Public view"})})]}),o?(0,l.jsx)("p",{className:"mt-6 text-sm text-slate-600",children:"Loading documents..."}):u?(0,l.jsx)("p",{className:"mt-6 text-sm text-red-600",children:u}):0===a.length?(0,l.jsx)("p",{className:"mt-6 text-sm text-slate-600",children:"No files found in this folder."}):(0,l.jsx)("div",{className:"mt-6 overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full text-left text-sm text-slate-700",children:[(0,l.jsx)("thead",{className:"border-b border-slate-200 text-xs uppercase tracking-[0.2em] text-slate-500",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"py-2 pr-4",children:"Name"}),(0,l.jsx)("th",{className:"py-2 pr-4",children:"Last updated"}),(0,l.jsx)("th",{className:"py-2 pr-4",children:"Size"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-slate-100",children:a.map(e=>{var t,a;return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"py-3 pr-4 font-medium text-slate-900",children:e.name}),(0,l.jsx)("td",{className:"py-3 pr-4 text-slate-600",children:(e=>{if(!e)return"-";let t=new Date(e);return Number.isNaN(t.getTime())?"-":t.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})})(e.updated_at)}),(0,l.jsx)("td",{className:"py-3 pr-4 text-slate-600",children:(a=null==(t=e.metadata)?void 0:t.size)||0===a?a<1024?"".concat(a," B"):a<1048576?"".concat(Math.round(a/1024)," KB"):"".concat((a/1048576).toFixed(1)," MB"):"-"})]},e.name)})})]})})]})}}}]);