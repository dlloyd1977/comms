(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[496],{5392:(e,s,l)=>{"use strict";l.d(s,{q7:()=>r,q:()=>i,Xy:()=>a});var n=l(6620),t=function(e){return e.SERVER="server",e.SPA="spa",e}({});class o{async loginEmail(e,s){return this.client.auth.signInWithPassword({email:e,password:s})}async registerEmail(e,s){return this.client.auth.signUp({email:e,password:s})}async exchangeCodeForSession(e){return this.client.auth.exchangeCodeForSession(e)}async resendVerificationEmail(e){return this.client.auth.resend({email:e,type:"signup"})}async logout(){let{error:e}=await this.client.auth.signOut({scope:"local"});if(e)throw e;"spa"===this.clientType&&(window.location.href="/auth/login")}async uploadFile(e,s,l){return s=e+"/"+(s=s.replace(/[^0-9a-zA-Z!\-_.*'()]/g,"_")),this.client.storage.from("files").upload(s,l)}async getFiles(e){return this.client.storage.from("files").list(e)}async deleteFile(e,s){return s=e+"/"+s,this.client.storage.from("files").remove([s])}async shareFile(e,s,l){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return s=e+"/"+s,this.client.storage.from("files").createSignedUrl(s,l,{download:n})}async getMyTodoList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"created_at",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],t=this.client.from("todo_list").select("*").range(e*s-s,e*s-1).order(l);return null!==n&&(t=t.eq("done",n)),t}async createTask(e){return this.client.from("todo_list").insert(e)}async removeTask(e){return this.client.from("todo_list").delete().eq("id",e)}async updateAsDone(e){return this.client.from("todo_list").update({done:!0}).eq("id",e)}getSupabaseClient(){return this.client}constructor(e,s){this.client=e,this.clientType=s}}function r(){return(0,n.createBrowserClient)("https://xcopajcpimrsqcqhydug.supabase.co","sb_publishable_pGN0njb-9XysERIUFiYtPg_NbAQuZGT")}async function i(){return new o(r(),t.SPA)}async function a(){let e=r(),s=await e.auth.getSession();return s.data&&s.data.session||(window.location.href="/auth/login"),new o(e,t.SPA)}},6113:(e,s,l)=>{"use strict";l.d(s,{default:()=>c});var n=l(5155),t=l(2115),o=l(2619),r=l.n(o);let i=[{href:"/",label:"Home"},{href:"/kybalion/",label:"Kybalion Home"},{href:"/kybalion/reader.html",label:"Reader"},{href:"/kybalion/docs/",label:"Document Library"}],a=[{href:"/kybalion/docs/general/",label:"General"},{href:"/kybalion/docs/session-01/",label:"Session 1"},{href:"/kybalion/docs/session-02/",label:"Session 2"},{href:"/kybalion/docs/session-03/",label:"Session 3"},{href:"/kybalion/docs/session-04/",label:"Session 4"},{href:"/kybalion/docs/session-05/",label:"Session 5"},{href:"/kybalion/docs/session-06/",label:"Session 6"},{href:"/kybalion/docs/session-07/",label:"Session 7"},{href:"/kybalion/docs/session-08/",label:"Session 8"},{href:"/kybalion/docs/session-09/",label:"Session 9"},{href:"/kybalion/docs/session-10/",label:"Session 10"},{href:"/kybalion/docs/session-11/",label:"Session 11"},{href:"/kybalion/docs/session-12/",label:"Session 12"},{href:"/kybalion/docs/templates/",label:"Templates"}];function c(){let[e,s]=(0,t.useState)(!1),l=(0,t.useRef)(null);return(0,t.useEffect)(()=>{let e=()=>s(!1);document.addEventListener("click",e);let l=e=>{"Escape"===e.key&&s(!1)};return document.addEventListener("keydown",l),()=>{document.removeEventListener("click",e),document.removeEventListener("keydown",l)}},[]),(0,n.jsxs)("div",{ref:l,className:"relative inline-flex",children:[(0,n.jsx)("button",{type:"button",className:"rounded-full border px-4 py-2 text-sm font-medium",style:{background:"#fff",color:"#2f5f8f",borderColor:"#2f5f8f"},"aria-haspopup":"true","aria-expanded":e,onClick:e=>{e.stopPropagation(),s(e=>!e)},children:"Menu"}),e&&(0,n.jsxs)("div",{className:"absolute right-0 z-40 mt-2 max-h-[70vh] min-w-[220px] overflow-auto rounded-xl border bg-white p-3 shadow-lg",style:{top:"calc(100% + 4px)",borderColor:"#e2ddd7"},role:"menu",onClick:e=>e.stopPropagation(),children:[(0,n.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,n.jsx)("p",{className:"text-[0.75rem] uppercase tracking-[0.1em]",style:{color:"#888"},children:"Navigation"}),i.map(e=>{let{href:l,label:t}=e;return(0,n.jsx)(r(),{href:l,className:"rounded-lg px-2 py-1.5 text-sm font-semibold no-underline hover:bg-[#f1f5fb]",style:{color:"#1f1c1a"},onClick:()=>s(!1),children:t},l)})]}),(0,n.jsx)("hr",{className:"my-2 border-t",style:{borderColor:"#e2ddd7"}}),(0,n.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,n.jsx)("p",{className:"text-[0.75rem] uppercase tracking-[0.1em]",style:{color:"#888"},children:"Documents"}),a.map(e=>{let{href:l,label:t}=e;return(0,n.jsx)(r(),{href:l,className:"rounded-lg px-2 py-1.5 text-sm font-semibold no-underline hover:bg-[#f1f5fb]",style:{color:"#1f1c1a"},onClick:()=>s(!1),children:t},l)})]})]})]})}},6174:(e,s,l)=>{Promise.resolve().then(l.t.bind(l,2619,23)),Promise.resolve().then(l.bind(l,7514)),Promise.resolve().then(l.bind(l,6113))},7514:(e,s,l)=>{"use strict";l.d(s,{default:()=>a});var n=l(5155),t=l(2115),o=l(5392),r=l(2619),i=l.n(r);function a(){let[e,s]=(0,t.useState)(null),[l,r]=(0,t.useState)(!1);return((0,t.useEffect)(()=>{(0,o.q7)().auth.getSession().then(e=>{var l,n;let{data:t}=e,o=t.session;if(s(null!=(n=null==o||null==(l=o.user)?void 0:l.email)?n:null),r(!0),o)try{let e=new URL("https://xcopajcpimrsqcqhydug.supabase.co").host.split(".")[0];localStorage.setItem("sb-".concat(e,"-auth-token"),JSON.stringify(o))}catch(e){}})},[]),l)?e?(0,n.jsx)(i(),{href:"/kybalion/reader.html",className:"rounded-full px-4 py-2 text-sm font-semibold",style:{background:"#2f5f8f",color:"#ffffff",border:"1px solid #2f5f8f"},children:"Open Reader"}):(0,n.jsx)(i(),{href:"/auth/login?redirect=/kybalion/reader.html",className:"rounded-full px-4 py-2 text-sm font-semibold",style:{background:"#2f5f8f",color:"#ffffff",border:"1px solid #2f5f8f"},children:"Sign In"}):(0,n.jsx)("span",{className:"inline-block rounded-full px-4 py-2 text-sm font-semibold",style:{background:"#2f5f8f",color:"#ffffff",border:"1px solid #2f5f8f",opacity:.6},children:"â€¦"})}}},e=>{e.O(0,[619,620,441,255,358],()=>e(e.s=6174)),_N_E=e.O()}]);