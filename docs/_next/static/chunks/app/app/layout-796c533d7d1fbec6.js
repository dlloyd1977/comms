(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[253],{1847:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var r=a(2115);let l=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:m,...u}=e;return(0,r.createElement)("svg",{ref:t,...n,width:s,height:s,stroke:a,strokeWidth:o?24*Number(i)/Number(s):i,className:l("lucide",d),...u},[...m.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(c)?c:[c]])}),i=(e,t)=>{let a=(0,r.forwardRef)((a,n)=>{let{className:i,...o}=a;return(0,r.createElement)(s,{ref:n,iconNode:t,className:l("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),i),...o})});return a.displayName="".concat(e),a}},4600:(e,t,a)=>{"use strict";a.d(t,{GlobalProvider:()=>i,P:()=>o});var r=a(5155),l=a(2115),n=a(5392);let s=(0,l.createContext)(void 0);function i(e){let{children:t}=e,[a,i]=(0,l.useState)(!0),[o,d]=(0,l.useState)(null);return(0,l.useEffect)(()=>{!async function(){try{let i=(await (0,n.Xy)()).getSupabaseClient(),{data:{user:o}}=await i.auth.getUser();if(o){var e,t,a,r,l,s;let n=o.email,c=((null==(e=o.user_metadata)?void 0:e.nickname)||"").trim()||((null==(t=o.user_metadata)?void 0:t.first_name)||"").trim()||n,m=null!=(l=null==(a=o.user_metadata)?void 0:a.first_name)?l:null,u=null!=(s=null==(r=o.user_metadata)?void 0:r.nickname)?s:null;try{let{data:e}=await i.from("active_members").select("nickname, first_name").eq("email",n).maybeSingle();(null==e?void 0:e.nickname)&&(u=e.nickname),(null==e?void 0:e.first_name)&&(m=e.first_name),c=(u||"").trim()||(m||"").trim()||n}catch(e){console.warn("Profile lookup failed:",e)}d({email:n,id:o.id,registered_at:new Date(o.created_at),first_name:m,nickname:u,display_name:c})}else throw Error("User not found")}catch(e){console.error("Error loading data:",e)}finally{i(!1)}}()},[]),(0,r.jsx)(s.Provider,{value:{loading:a,user:o},children:t})}let o=()=>{let e=(0,l.useContext)(s);if(void 0===e)throw Error("useGlobal must be used within a GlobalProvider");return e}},5229:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5420:(e,t,a)=>{Promise.resolve().then(a.bind(a,7304)),Promise.resolve().then(a.bind(a,4600))},7304:(e,t,a)=>{"use strict";a.d(t,{default:()=>h});var r=a(5155),l=a(2115),n=a(2619),s=a.n(n),i=a(63),o=a(1847);let d=(0,o.A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var c=a(5229);let m=(0,o.A)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var u=a(721);function h(e){let{children:t}=e,[a,n]=(0,l.useState)(!1),o=(0,i.usePathname)(),h=()=>n(!a);return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[a&&(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 z-20 lg:hidden",onClick:h}),(0,r.jsxs)("div",{className:"fixed inset-y-0 left-0 w-64 bg-white shadow-lg transform transition-transform duration-200 ease-in-out z-30 \n                ".concat(a?"translate-x-0":"-translate-x-full"," lg:translate-x-0"),children:[(0,r.jsxs)("div",{className:"h-16 flex items-center justify-between px-4 border-b",children:[(0,r.jsx)("span",{className:"text-xl font-semibold text-primary-600",children:"Kybalion"}),(0,r.jsx)("button",{onClick:h,className:"lg:hidden text-gray-500 hover:text-gray-700",children:(0,r.jsx)(c.A,{className:"h-6 w-6"})})]}),(0,r.jsx)("nav",{className:"mt-4 px-2 space-y-1",children:[{name:"Kybalion Home",href:"/kybalion/",icon:d}].map(e=>{let t=o===e.href;return(0,r.jsxs)(s(),{href:e.href,className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md ".concat(t?"bg-primary-50 text-primary-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,r.jsx)(e.icon,{className:"mr-3 h-5 w-5 ".concat(t?"text-primary-500":"text-gray-400 group-hover:text-gray-500")}),e.name]},e.name)})})]}),(0,r.jsxs)("div",{className:"lg:pl-64",children:[(0,r.jsxs)("div",{className:"sticky top-0 z-10 flex items-center justify-between h-16 bg-white shadow-sm px-4",children:[(0,r.jsx)("button",{onClick:h,className:"lg:hidden text-gray-500 hover:text-gray-700",children:(0,r.jsx)(m,{className:"h-6 w-6"})}),(0,r.jsx)("div",{className:"relative ml-auto",children:(0,r.jsx)(u.default,{})})]}),(0,r.jsx)("main",{className:"p-4",children:t})]})]})}}},e=>{e.O(0,[619,620,721,441,255,358],()=>e(e.s=5420)),_N_E=e.O()}]);