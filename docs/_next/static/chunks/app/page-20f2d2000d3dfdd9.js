(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[496,974],{63:(e,t,s)=>{"use strict";var a=s(7260);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},5726:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2619,23)),Promise.resolve().then(s.bind(s,8494))},8494:(e,t,s)=>{"use strict";s.d(t,{default:()=>h});var a=s(5155),n=s(2115),r=s(63),l=s(2619),o=s.n(l);let c=[{href:"/",label:"Home"},{href:"/kybalion/",label:"Kybalion Home"},{href:"/kybalion/reader.html",label:"Reader"},{href:"/kybalion/docs/",label:"Document Library"}],i=Array.from({length:12},(e,t)=>({href:"/kybalion/docs/session-".concat(String(t+1).padStart(2,"0"),"/"),label:"Session ".concat(t+1)})),d=[{href:"/kybalion/docs/templates/",label:"Templates"},{href:"/kybalion/docs/assets/",label:"Assets"},{href:"/kybalion/docs/master-docs/",label:"Master Documents"}],u="rounded-lg px-2 py-1.5 text-sm font-semibold no-underline hover:bg-[#f1f5fb] block",m={color:"#1f1c1a"},f={color:"#888"};function h(){let[e,t]=(0,n.useState)(!1),[l,h]=(0,n.useState)(!1),[b,x]=(0,n.useState)(!1),p=(0,n.useRef)(null),y=(0,n.useRef)(null),g=(0,r.usePathname)();(0,n.useEffect)(()=>{(async()=>{try{let{createSPASassClient:e}=await Promise.all([s.e(620),s.e(392)]).then(s.bind(s,5392)),t=await e(),{data:{user:a}}=await t.getSupabaseClient().auth.getUser();x(!!a)}catch(e){}})()},[]),(0,n.useEffect)(()=>{if(!e)return;let s=e=>{p.current&&!p.current.contains(e.target)&&(t(!1),h(!1))},a=e=>{"Escape"===e.key&&(t(!1),h(!1))};return document.addEventListener("mousedown",s),document.addEventListener("keydown",a),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("keydown",a)}},[e]);let k=()=>{y.current&&clearTimeout(y.current),h(!0)},v=()=>{y.current=setTimeout(()=>h(!1),200)},w=async()=>{try{let{createSPASassClient:e}=await Promise.all([s.e(620),s.e(392)]).then(s.bind(s,5392)),a=await e();await a.getSupabaseClient().auth.signOut(),x(!1),t(!1),window.location.reload()}catch(e){t(!1)}};return(0,a.jsxs)("div",{ref:p,className:"relative inline-flex",children:[(0,a.jsx)("button",{type:"button",className:"rounded-full border px-4 py-2 text-sm font-medium",style:{background:"#fff",color:"#2f5f8f",borderColor:"#2f5f8f"},"aria-haspopup":"true","aria-expanded":e,onClick:()=>t(e=>!e),children:"Main Menu"}),e&&(0,a.jsxs)("div",{className:"absolute right-0 z-[100] mt-2 max-h-[70vh] min-w-[240px] overflow-visible rounded-xl border bg-white p-3 shadow-lg",style:{top:"calc(100% + 4px)",borderColor:"#e2ddd7"},role:"menu",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("p",{className:"px-2 text-[0.7rem] font-semibold uppercase tracking-[0.12em]",style:f,children:"Navigation"}),c.map(e=>{let{href:s,label:n}=e;return(0,a.jsx)(o(),{href:s,className:u,style:m,onClick:()=>t(!1),children:n},s)}),b?(0,a.jsx)("button",{type:"button",className:"rounded-lg px-2 py-1.5 text-left text-sm font-semibold hover:bg-[#f1f5fb]",style:m,onClick:w,children:"Log Out"}):(0,a.jsx)(o(),{href:"/auth/login?redirect=".concat(encodeURIComponent(g)),className:u,style:m,onClick:()=>t(!1),children:"Sign In"})]}),(0,a.jsx)("hr",{className:"my-2 border-t",style:{borderColor:"#e2ddd7"}}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("p",{className:"px-2 text-[0.7rem] font-semibold uppercase tracking-[0.12em]",style:f,children:"Documents"}),(0,a.jsx)(o(),{href:"/kybalion/docs/general/",className:u,style:m,onClick:()=>t(!1),children:"General"}),(0,a.jsxs)("div",{className:"relative",onMouseEnter:k,onMouseLeave:v,children:[(0,a.jsxs)("button",{type:"button",className:"flex w-full items-center justify-between rounded-lg px-2 py-1.5 text-left text-sm font-semibold hover:bg-[#f1f5fb]",style:m,onClick:()=>h(e=>!e),children:["Sessions",(0,a.jsx)("span",{className:"text-xs",style:f,children:"â–¸"})]}),l&&(0,a.jsx)("div",{className:"absolute z-[110] min-w-[160px] rounded-xl border bg-white p-2 shadow-lg",style:{top:0,right:"calc(100% + 6px)",borderColor:"#e2ddd7"},onMouseEnter:k,onMouseLeave:v,children:i.map(e=>{let{href:s,label:n}=e;return(0,a.jsx)(o(),{href:s,className:"block rounded-lg px-3 py-1.5 text-sm font-semibold no-underline hover:bg-[#f1f5fb]",style:m,onClick:()=>{t(!1),h(!1)},children:n},s)})})]}),d.map(e=>{let{href:s,label:n}=e;return(0,a.jsx)(o(),{href:s,className:u,style:m,onClick:()=>t(!1),children:n},s)})]})]})]})}}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=5726)),_N_E=e.O()}]);